import{_ as t,M as l,p as o,q as d,Q as e,t as n,N as s,a1 as i}from"./framework-f538f058.js";const r={},c=e("h1",{id:"wallet-compile-dev-debug-run",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#wallet-compile-dev-debug-run","aria-hidden":"true"},"#"),n(" Wallet Compile & Dev Debug & Run")],-1),p=e("h2",{id:"prepare-your-compile-environment",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#prepare-your-compile-environment","aria-hidden":"true"},"#"),n(" Prepare your compile environment")],-1),u={id:"_1-download-nodejs-with-v10-x-x-or-use-nvm-to-install-v10-x-x-install-dependencies",tabindex:"-1"},h=e("a",{class:"header-anchor",href:"#_1-download-nodejs-with-v10-x-x-or-use-nvm-to-install-v10-x-x-install-dependencies","aria-hidden":"true"},"#",-1),m={href:"https://github.com/nvm-sh/nvm/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"},v=e("strong",null,"nvm",-1),b=i(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">yarn</span> gulp meteor-build-client
<span class="token function">git</span> clone https://github.com/wanchain/wanwallet.git <span class="token parameter variable">--recursive</span>
<span class="token function">git</span> clone https://github.com/wanchain/meteor-dapp-wallet.git <span class="token parameter variable">--recursive</span>
<span class="token builtin class-name">cd</span> wanwallet
<span class="token function">yarn</span> <span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> postinstall
<span class="token function">yarn</span> remove jsdoc <span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> <span class="token function">add</span> jsdoc@3.5.5
<span class="token function">yarn</span> remove log4js <span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> <span class="token function">add</span> log4js@^6.1.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="delete-mkdirp-s-version-info-add-its-symbal-into-a-lower-version-like-this" tabindex="-1"><a class="header-anchor" href="#delete-mkdirp-s-version-info-add-its-symbal-into-a-lower-version-like-this" aria-hidden="true">#</a> Delete <code>mkdirp@*</code>&#39;s version info, add its symbal into a lower version like this</h4><blockquote><p>yarn.lock</p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>mkdirp@*<span class="token punctuation">,</span> <span class="token key atrule">mkdirp@0.5.1</span><span class="token punctuation">:</span>
  version &quot;0.5.1&quot;
  resolved &quot;https<span class="token punctuation">:</span>//registry.npm.taobao.org/mkdirp/download/mkdirp<span class="token punctuation">-</span>0.5.1.tgz<span class="token punctuation">?</span>cache=0<span class="token important">&amp;sync_timestamp=1585843076463&amp;other_urls=https%3A%2F%2Fregistry.npm.taobao.org%2Fmkdirp%2Fdownload%2Fmkdirp-0.5.1.tgz</span><span class="token comment">#30057438eac6cf7f8c4767f38648d6697d75c903&quot;</span>
  integrity sha1<span class="token punctuation">-</span>MAV0OOrGz3+MR2fzhkjWaX11yQM=
  <span class="token key atrule">dependencies</span><span class="token punctuation">:</span>
    minimist &quot;0.0.8&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-install-meteor-instantly-by-this-command-if-your-network-allows" tabindex="-1"><a class="header-anchor" href="#_2-install-meteor-instantly-by-this-command-if-your-network-allows" aria-hidden="true">#</a> 2. Install meteor instantly by this command if your network allows</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********************!!!PROTECTION POLICY!!!**********************
Waiting For The Next Deployment, Maybe It Will Be Displayed After That.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="or-download-install-script-and-modify-it-download-the-meteor-package-alone" tabindex="-1"><a class="header-anchor" href="#or-download-install-script-and-modify-it-download-the-meteor-package-alone" aria-hidden="true">#</a> or download install script and modify it, download the meteor package alone</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********************!!!PROTECTION POLICY!!!**********************
Waiting For The Next Deployment, Maybe It Will Be Displayed After That.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="find-those-infomations-in-this-file" tabindex="-1"><a class="header-anchor" href="#find-those-infomations-in-this-file" aria-hidden="true">#</a> Find those infomations in this file</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********************!!!PROTECTION POLICY!!!**********************
Waiting For The Next Deployment, Maybe It Will Be Displayed After That.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="download-this-file-like-https-static-meteor-netdna-ssl-com-packages-bootstrap-1-10-1-meteor-bootstrap-os-linux-x86-64-tar-gz-with-thunder-downloader-modify-some-positions-below" tabindex="-1"><a class="header-anchor" href="#download-this-file-like-https-static-meteor-netdna-ssl-com-packages-bootstrap-1-10-1-meteor-bootstrap-os-linux-x86-64-tar-gz-with-thunder-downloader-modify-some-positions-below" aria-hidden="true">#</a> Download this file like: <code>https://static-meteor.netdna-ssl.com/packages-bootstrap/1.10.1/meteor-bootstrap-os.linux.x86_64.tar.gz</code> with thunder downloader. modify some positions below</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">TARBALL_FILE</span><span class="token operator">=</span><span class="token string">&quot;YOUR_METEOR_PACKAGE_DOWNLOAD_PATH&quot;</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function-name function">cleanUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">#  rm -rf &quot;$TARBALL_FILE&quot;</span>
  <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token string">&quot;<span class="token variable">$INSTALL_TMPDIR</span>&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">set</span> +e
<span class="token comment">#ATTEMPTS=0</span>
<span class="token comment">#while [ $ATTEMPTS -lt $MAX_ATTEMPTS ]</span>
<span class="token comment">#do</span>
<span class="token comment">#  ATTEMPTS=$((ATTEMPTS + 1))</span>
<span class="token comment">#</span>
<span class="token comment">#  curl $VERBOSITY --fail --continue-at - \\</span>
<span class="token comment">#    &quot;$TARBALL_URL&quot; --output &quot;$TARBALL_FILE&quot;</span>
<span class="token comment">#</span>
<span class="token comment">#  if [ $? -eq 0 ]</span>
<span class="token comment">#  then</span>
<span class="token comment">#      break</span>
<span class="token comment">#  fi</span>
<span class="token comment">#</span>
<span class="token comment">#  echo &quot;Retrying download in $RETRY_DELAY_SECS seconds...&quot;</span>
<span class="token comment">#  sleep $RETRY_DELAY_SECS</span>
<span class="token comment">#done</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="then-install-meteor-manual" tabindex="-1"><a class="header-anchor" href="#then-install-meteor-manual" aria-hidden="true">#</a> Then install meteor manual</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********************!!!PROTECTION POLICY!!!**********************
Waiting For The Next Deployment, Maybe It Will Be Displayed After That.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-install-graphicsmagick-for-gm-command" tabindex="-1"><a class="header-anchor" href="#_3-install-graphicsmagick-for-gm-command" aria-hidden="true">#</a> 3. Install GraphicsMagick for <code>gm</code> command</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********************!!!PROTECTION POLICY!!!**********************
Waiting For The Next Deployment, Maybe It Will Be Displayed After That.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,18),g={id:"_4-install-a-specify-version-of-icns2png-by-this-source",tabindex:"-1"},k=e("a",{class:"header-anchor",href:"#_4-install-a-specify-version-of-icns2png-by-this-source","aria-hidden":"true"},"#",-1),f=e("code",null,"icns2png",-1),x={href:"https://launchpad.net/ubuntu/+source/libicns/0.8.1-3ubuntu0.16.10.0/+build/11850940",target:"_blank",rel:"noopener noreferrer"},y=i(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> icnsutils_0.8.1-3ubuntu0.16.10.0_amd64.deb libicns-dev_0.8.1-3ubuntu0.16.10.0_amd64.deb libicns1_0.8.1-3ubuntu0.16.10.0_amd64.deb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="compile-with-glup" tabindex="-1"><a class="header-anchor" href="#compile-with-glup" aria-hidden="true">#</a> Compile with glup</h2><h3 id="_1-modify-the-configuration" tabindex="-1"><a class="header-anchor" href="#_1-modify-the-configuration" aria-hidden="true">#</a> 1. Modify the configuration</h3><blockquote><p>config.json</p></blockquote><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span><span class="token string">&quot;wallet&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;internal&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-compile" tabindex="-1"><a class="header-anchor" href="#_2-compile" aria-hidden="true">#</a> 2. Compile</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********************!!!PROTECTION POLICY!!!**********************
Waiting For The Next Deployment, Maybe It Will Be Displayed After That.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="development" tabindex="-1"><a class="header-anchor" href="#development" aria-hidden="true">#</a> Development</h2><h3 id="_1-for-one-meteor-command" tabindex="-1"><a class="header-anchor" href="#_1-for-one-meteor-command" aria-hidden="true">#</a> 1. For one meteor command</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********************!!!PROTECTION POLICY!!!**********************
Waiting For The Next Deployment, Maybe It Will Be Displayed After That.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-for-another-meteor-command" tabindex="-1"><a class="header-anchor" href="#_2-for-another-meteor-command" aria-hidden="true">#</a> 2. For another meteor command</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********************!!!PROTECTION POLICY!!!**********************
Waiting For The Next Deployment, Maybe It Will Be Displayed After That.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-run-the-dev-debug" tabindex="-1"><a class="header-anchor" href="#_3-run-the-dev-debug" aria-hidden="true">#</a> 3. Run The Dev Debug</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> dev:electron
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-for-a-local-clientbinaries-json-modify-a-position" tabindex="-1"><a class="header-anchor" href="#_4-for-a-local-clientbinaries-json-modify-a-position" aria-hidden="true">#</a> 4. For a local clientBinaries.json, modify a position</h3><blockquote><p>modules/settings.js:299</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    <span class="token keyword">get</span> <span class="token function">checkAppVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> defauleUrl <span class="token operator">=</span> <span class="token string">&#39;http://localhost:8888/&#39;</span>
        <span class="token comment">// &#39;https://raw.githubusercontent.com/wanchain/wanwallet/wanchain3.0_beta/&#39;</span>
        <span class="token comment">// let defauleUrl = &#39;https://raw.githubusercontent.com/wanchain/wanwallet/wanchain3.0_beta/&#39;</span>

        <span class="token comment">// /./</span>
        <span class="token comment">// /^https:\\/\\/www\\.wanchain\\.org\\/download\\/(?:.+)/</span>
        <span class="token keyword">let</span> url_regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^https:\\/\\/www\\.wanchain\\.org\\/download\\/(?:.+)</span><span class="token regex-delimiter">/</span></span>

        <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">url_regex</span><span class="token operator">:</span> url_regex<span class="token punctuation">,</span>
            <span class="token literal-property property">appVersion</span><span class="token operator">:</span> defauleUrl <span class="token operator">+</span> <span class="token string">&#39;wanwalletVersion.json&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">gwanVersion</span><span class="token operator">:</span> defauleUrl <span class="token operator">+</span> <span class="token string">&#39;clientBinaries.json&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>python <span class="token parameter variable">-m</span> http.server <span class="token number">8888</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> dev:electron <span class="token parameter variable">--internal</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="run-the-wallet" tabindex="-1"><a class="header-anchor" href="#run-the-wallet" aria-hidden="true">#</a> Run the wallet</h2><h3 id="_1-get-the-package" tabindex="-1"><a class="header-anchor" href="#_1-get-the-package" aria-hidden="true">#</a> 1. Get the package</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> dist_wallet/release/
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> linux-unpacked
<span class="token function">unzip</span> WanWalletGui-linux64-*.zip
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-run-the-wallet-by-command" tabindex="-1"><a class="header-anchor" href="#_2-run-the-wallet-by-command" aria-hidden="true">#</a> 2. Run the wallet by command</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./linux-unpacked/wanwalletgui <span class="token parameter variable">--rpc</span> http://localhost:8545
<span class="token comment"># gwan --rpc --rpcport 8545 --rpccorsdomain &quot;*&quot; --rpcapi &quot;db,eth,net,web3,personal,admin,miner,pos&quot;</span>
<span class="token comment"># ./linux-unpacked/wanwalletgui --rpc ~/.wanchain/gwan.ipc</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24);function w(_,T){const a=l("ExternalLinkIcon");return o(),d("div",null,[c,p,e("h3",u,[h,n(" 1. Download nodejs with v10.x.x or use "),e("a",m,[v,s(a)]),n(" to install v10.x.x, install dependencies")]),b,e("h3",g,[k,n(" 4. Install a specify version of "),f,n(" by this "),e("a",x,[n("source"),s(a)])]),y])}const I=t(r,[["render",w],["__file","index.html.vue"]]);export{I as default};
